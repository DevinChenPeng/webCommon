(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3b684d34"],{"87d8":function(e,t,o){"use strict";o.r(t);var i=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("CcResize",{attrs:{leftClass:["left"],rightClass:["right"]},scopedSlots:e._u([{key:"left",fn:function(){return[o("CcUploadCopperImage",{attrs:{isSlot:!0,title:"裁剪",imgWidth:168,imgHeight:168},on:{corpperImage:e.corpperImage}},[o("div",{staticClass:"upload-img"},[e._v(" 点击上传 "),o("img",{attrs:{src:e.url,alt:""}}),o("div",{staticClass:"img-bg"})])])]},proxy:!0},{key:"right",fn:function(){return[o("CcTable",{ref:"ecc-table",attrs:{url:"/mds/table/list",columns:e.columns4,dataHandler:function(t){return t.isEditor=e.Random.boolean(),t},setPageIndex:2}})]},proxy:!0}])})},a=[],r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("el-upload",{staticClass:"avatar-uploader",attrs:{"show-file-list":!1,accept:"image/png,image/jpg,image/jpeg","http-request":e.httpUploadRequest,action:""}},[e.isSlot?e._e():o("CcButton",[e._v(e._s(e.$t("public.uploadImg.button")))]),e._t("default")],2),o("MyCorpper",{attrs:{cropperShow:e.cropperShow,cropperImg:e.cropperImg,fileName:e.fileName,imgWidth:e.imgWidth,imgHeight:e.imgHeight,title:e.title},on:{corpperDone:e.corpperDone,cropperClose:e.cropperClose}})],1)},p=[],n=(o("a9e3"),o("b0c0"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("CcDialog",{attrs:{visible:e.cropperShow,"custom-class":"cropperDialog",title:e.title,width:"750px"},on:{"update:visible":function(t){e.cropperShow=t},close:e.dialogClosed,handleCancel:function(t){return e.handleImageCopper("cancel")},handleConfirm:function(t){return e.handleImageCopper("confirm")}}},[o("div",[o("div",{staticClass:"cropper-content"},[o("div",{staticClass:"left"},[o("div",{staticClass:"title"},[e._v("预览")]),o("div",{staticClass:"show-preview",style:{width:e.imgWidth+"px",height:e.imgHeight+"px",visibility:e.isReview?"visible":"hidden"}},[o("div",{staticClass:"preview",style:e.previews.div},[o("img",{style:e.previews.img,attrs:{src:e.previews.url}})])])]),o("div",{staticClass:"right"},[o("div",{staticClass:"title"},[e._v("改变尺寸")]),o("div",{staticClass:"cropper"},[o("VueCropper",{ref:"cropper",attrs:{img:e.cropperImg,outputSize:e.option.outputSize,outputType:e.option.outputType,info:!0,full:e.option.full,canMove:e.option.canMove,canMoveBox:e.option.canMoveBox,original:e.option.original,autoCrop:e.option.autoCrop,autoCropWidth:e.option.autoCropWidth,autoCropHeight:e.option.autoCropHeight,fixedBox:e.option.fixedBox,canScale:e.option.canScale},on:{realTime:e.realTime}})],1),o("div",{staticClass:"tools"},[o("div",{staticStyle:{flex:"1"}},[o("el-slider",{attrs:{"show-tooltip":!1},on:{input:e.dragging},model:{value:e.large,callback:function(t){e.large=t},expression:"large"}})],1)])])])])])],1)}),c=[],l=o("7e79"),s=o("91b6"),u={props:{cropperShow:{type:Boolean,default:!1},cropperImg:{type:String,default:""},imgWidth:{type:[String,Number],default:260},imgHeight:{type:[String,Number],default:130},fileName:String,title:String},components:{VueCropper:l["VueCropper"]},data:function(){return{previews:{},large:[0,0],crap:!1,isReview:!0,autoUpload:!1,scale:0}},watch:{scale:function(e,t){e>=t?this.changeScale(1):this.changeScale(-1)}},computed:{option:function(){return{img:"",outputSize:1,full:!1,outputType:"png",canMove:!0,original:!1,canMoveBox:!0,autoCrop:!0,autoCropWidth:this.imgWidth,autoCropHeight:this.imgHeight,fixedBox:!0,canScale:!0}}},methods:{dialogClosed:function(){this.$emit("cropperClose")},dragging:function(e,t){this.scale=e},changeScale:function(e){this.$refs.cropper.changeScale(e)},realTime:function(e){this.previews=e},handleImageCopper:function(e){var t=this;"confirm"===e?this.$refs.cropper.getCropBlob((function(e){var o=new FormData;o.append("file",e,t.fileName),Object(s["a"])(o).then((function(e){var o=e.data;0===e.code&&Object(s["b"])(o,15e3).then((function(e){if(0===e.code){var i=e.data;t.$emit("corpperDone",o,i),t.dialogClosed()}}))})).catch((function(){t.$emit("corpperDone"),t.dialogClosed()}))})):(this.$emit("corpperDone"),this.dialogClosed())}}},d=u,g=(o("8c5c"),o("c51c"),o("2877")),f=Object(g["a"])(d,n,c,!1,null,"73f54801",null),m=f.exports,h={components:{MyCorpper:m},props:{isSlot:{type:Boolean,defalut:!1},maxSize:{type:Number,default:1},imgWidth:{type:[Number,String],defalut:200},imgHeight:{type:[Number,String],defalut:200},title:String},data:function(){return{cropperImg:"",fileName:"",cropperShow:!1}},methods:{httpUploadRequest:function(e){this.cropperShow=!1;var t=e.file,o=new FileReader,i=this.beforeAvatarUpload(t);if(i){t&&o.readAsDataURL(t);var a=this;o.onload=function(){var e=o.result;a.cropperShow=!0,a.cropperImg=e}}},beforeAvatarUpload:function(e){this.fileName=e.name;var t="image/jpeg"===e.type,o="image/png"===e.type,i=e.size/1024/1024<this.maxSize;return t||o?!!i||(this.$message({type:"error",message:"图片大小不能超过".concat(this.maxSize,"M")}),!1):(this.$message({type:"error",message:"请上传图片格式 png、jpg、jpeg"}),!1)},corpperDone:function(e,t){e&&this.$emit("corpperImage",e,t)},cropperClose:function(){this.cropperShow=!1}}},C=h,v=(o("b7cb"),Object(g["a"])(C,r,p,!1,null,"01c68bce",null)),b=v.exports,S=o("96eb"),w=o.n(S),x=w.a.Random,y={omponents:{CcUploadCopperImage:b},computed:{Random:function(){return x}},data:function(){return{columns4:[{prop:"name",label:"姓名"},{prop:"date",label:"生日"},{prop:"email",label:"邮箱"},{prop:"status",label:"性别"},{prop:"address",label:"地址"},{prop:"isEditor",label:"是否编辑状态"}],url:"https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.taopic.com%2Fuploads%2Fallimg%2F110429%2F25-11042ZT11562.jpg&refer=http%3A%2F%2Fimg.taopic.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1636880490&t=7e41117d1e6e951bb97534c1ed397100"}},methods:{corpperImage:function(e,t){this.url=t}}},M=y,I=(o("8f44"),Object(g["a"])(M,i,a,!1,null,"4f7d0e1f",null));t["default"]=I.exports},"8c5c":function(e,t,o){"use strict";o("c27f")},"8f44":function(e,t,o){"use strict";o("c003")},b7cb:function(e,t,o){"use strict";o("f672")},c003:function(e,t,o){},c27f:function(e,t,o){},c51c:function(e,t,o){"use strict";o("ee16")},ee16:function(e,t,o){e.exports={AC1:"#00215f",AC2:"#002f88",AC3:"#667a9f",MC1:"#ee8a1d",MC2:"#fdc331",MC3:"#75c140",MC4:"#55c4f2",MC5:"#f35353",MC6:"#d1def9",MC7:"#b0deed",MC8:"#cad6df",MC9:"#eaeef6",TC1:"#00215f",TC2:"#9aa6c0",TC3:"#0091ff",boxShadow:"boxShadow"}},f672:function(e,t,o){}}]);
//# sourceMappingURL=chunk-3b684d34.5905fcd7.js.map