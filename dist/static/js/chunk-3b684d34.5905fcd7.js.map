{"version":3,"sources":["webpack:///./src/views/components/resize/index.vue?77d5","webpack:///./src/components/cc-element/packages/cc-upload-copper-image/src/index.vue?4d39","webpack:///./src/components/cc-element/packages/cc-upload-copper-image/src/cropper.vue?535c","webpack:///src/components/cc-element/packages/cc-upload-copper-image/src/cropper.vue","webpack:///./src/components/cc-element/packages/cc-upload-copper-image/src/cropper.vue?07fc","webpack:///./src/components/cc-element/packages/cc-upload-copper-image/src/cropper.vue","webpack:///src/components/cc-element/packages/cc-upload-copper-image/src/index.vue","webpack:///./src/components/cc-element/packages/cc-upload-copper-image/src/index.vue?7439","webpack:///./src/components/cc-element/packages/cc-upload-copper-image/src/index.vue","webpack:///src/views/components/resize/index.vue","webpack:///./src/views/components/resize/index.vue?8830","webpack:///./src/views/components/resize/index.vue","webpack:///./src/components/cc-element/packages/cc-upload-copper-image/src/cropper.vue?7ab7","webpack:///./src/views/components/resize/index.vue?d6b0","webpack:///./src/components/cc-element/packages/cc-upload-copper-image/src/index.vue?8e0c","webpack:///./src/components/cc-element/packages/cc-upload-copper-image/src/cropper.vue?3d62","webpack:///./src/components/cc-element/packages/cc-upload-copper-image/src/cropper.vue?302d"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","scopedSlots","_u","key","fn","on","corpperImage","staticClass","_v","url","proxy","ref","columns4","item","isEditor","Random","boolean","staticRenderFns","httpUploadRequest","isSlot","_e","_s","$t","_t","cropperShow","cropperImg","fileName","imgWidth","imgHeight","title","corpperDone","cropperClose","$event","dialogClosed","handleImageCopper","style","isReview","previews","option","outputSize","outputType","full","canMove","canMoveBox","original","autoCrop","autoCropWidth","autoCropHeight","fixedBox","canScale","realTime","staticStyle","dragging","model","value","callback","$$v","large","expression","props","type","Boolean","default","String","Number","components","VueCropper","data","crap","autoUpload","scale","watch","newVal","oldVal","changeScale","computed","img","methods","$emit","e","$refs","cropper","num","getCropBlob","form","append","res","code","component","MyCorpper","defalut","maxSize","isValid","file","reader","readAsDataURL","onload","_this","src","beforeAvatarUpload","name","isJPG","isPNG","isMaxSize","$message","uploadId","omponents","module","exports"],"mappings":"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","file":"static/js/chunk-3b684d34.5905fcd7.js","sourcesContent":["var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('CcResize',{attrs:{\"leftClass\":['left'],\"rightClass\":['right']},scopedSlots:_vm._u([{key:\"left\",fn:function(){return [_c('CcUploadCopperImage',{attrs:{\"isSlot\":true,\"title\":\"裁剪\",\"imgWidth\":168,\"imgHeight\":168},on:{\"corpperImage\":_vm.corpperImage}},[_c('div',{staticClass:\"upload-img\"},[_vm._v(\" 点击上传 \"),_c('img',{attrs:{\"src\":_vm.url,\"alt\":\"\"}}),_c('div',{staticClass:\"img-bg\"})])])]},proxy:true},{key:\"right\",fn:function(){return [_c('CcTable',{ref:\"ecc-table\",attrs:{\"url\":\"/mds/table/list\",\"columns\":_vm.columns4,\"dataHandler\":function (item) {\n          item.isEditor = _vm.Random.boolean();\n          return item;\n        },\"setPageIndex\":2}})]},proxy:true}])})}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('el-upload',{staticClass:\"avatar-uploader\",attrs:{\"show-file-list\":false,\"accept\":\"image/png,image/jpg,image/jpeg\",\"http-request\":_vm.httpUploadRequest,\"action\":\"\"}},[(!_vm.isSlot)?_c('CcButton',[_vm._v(_vm._s(_vm.$t('public.uploadImg.button')))]):_vm._e(),_vm._t(\"default\")],2),_c('MyCorpper',{attrs:{\"cropperShow\":_vm.cropperShow,\"cropperImg\":_vm.cropperImg,\"fileName\":_vm.fileName,\"imgWidth\":_vm.imgWidth,\"imgHeight\":_vm.imgHeight,\"title\":_vm.title},on:{\"corpperDone\":_vm.corpperDone,\"cropperClose\":_vm.cropperClose}})],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',[_c('CcDialog',{attrs:{\"visible\":_vm.cropperShow,\"custom-class\":\"cropperDialog\",\"title\":_vm.title,\"width\":\"750px\"},on:{\"update:visible\":function($event){_vm.cropperShow=$event},\"close\":_vm.dialogClosed,\"handleCancel\":function($event){return _vm.handleImageCopper('cancel')},\"handleConfirm\":function($event){return _vm.handleImageCopper('confirm')}}},[_c('div',[_c('div',{staticClass:\"cropper-content\"},[_c('div',{staticClass:\"left\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"预览\")]),_c('div',{staticClass:\"show-preview\",style:({'width': _vm.imgWidth + 'px', 'height': _vm.imgHeight + 'px','visibility':_vm.isReview?'visible':'hidden'})},[_c('div',{staticClass:\"preview\",style:(_vm.previews.div)},[_c('img',{style:(_vm.previews.img),attrs:{\"src\":_vm.previews.url}})])])]),_c('div',{staticClass:\"right\"},[_c('div',{staticClass:\"title\"},[_vm._v(\"改变尺寸\")]),_c('div',{staticClass:\"cropper\"},[_c('VueCropper',{ref:\"cropper\",attrs:{\"img\":_vm.cropperImg,\"outputSize\":_vm.option.outputSize,\"outputType\":_vm.option.outputType,\"info\":true,\"full\":_vm.option.full,\"canMove\":_vm.option.canMove,\"canMoveBox\":_vm.option.canMoveBox,\"original\":_vm.option.original,\"autoCrop\":_vm.option.autoCrop,\"autoCropWidth\":_vm.option.autoCropWidth,\"autoCropHeight\":_vm.option.autoCropHeight,\"fixedBox\":_vm.option.fixedBox,\"canScale\":_vm.option.canScale},on:{\"realTime\":_vm.realTime}})],1),_c('div',{staticClass:\"tools\"},[_c('div',{staticStyle:{\"flex\":\"1\"}},[_c('el-slider',{attrs:{\"show-tooltip\":false},on:{\"input\":_vm.dragging},model:{value:(_vm.large),callback:function ($$v) {_vm.large=$$v},expression:\"large\"}})],1)])])])])])],1)}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\r\n  <div>\r\n    <CcDialog \r\n      :visible.sync=\"cropperShow\"\r\n      @close=\"dialogClosed\" \r\n      custom-class=\"cropperDialog\"\r\n      :title=\"title\"\r\n      width=\"750px\"\r\n      @handleCancel=\"handleImageCopper('cancel')\"\r\n      @handleConfirm=\"handleImageCopper('confirm')\"\r\n      >\r\n      <div>\r\n        <div class=\"cropper-content\">\r\n          <div class=\"left\">\r\n            <!-- 预览 -->\r\n            <div class=\"title\">预览</div>\r\n            <div\r\n              class=\"show-preview\"\r\n              :style=\"{'width': imgWidth + 'px', 'height': imgHeight + 'px','visibility':isReview?'visible':'hidden'}\"\r\n            >\r\n              <div :style=\"previews.div\" class=\"preview\">\r\n                <img :src=\"previews.url\" :style=\"previews.img\" />\r\n              </div>\r\n            </div>\r\n          </div>\r\n          <div class=\"right\">\r\n            <!-- 改变尺寸 -->\r\n            <div class=\"title\">改变尺寸</div>\r\n            <div class=\"cropper\">\r\n              <VueCropper\r\n                ref=\"cropper\"\r\n                :img=\"cropperImg\"\r\n                :outputSize=\"option.outputSize\"\r\n                :outputType=\"option.outputType\"\r\n                :info=\"true\"\r\n                :full=\"option.full\"\r\n                :canMove=\"option.canMove\"\r\n                :canMoveBox=\"option.canMoveBox\"\r\n                :original=\"option.original\"\r\n                :autoCrop=\"option.autoCrop\"\r\n                :autoCropWidth=\"option.autoCropWidth\"\r\n                :autoCropHeight=\"option.autoCropHeight\"\r\n                :fixedBox=\"option.fixedBox\"\r\n                @realTime=\"realTime\"\r\n                :canScale=\"option.canScale\"\r\n              ></VueCropper>\r\n            </div>\r\n            <div class=\"tools\">\r\n              <!-- 放大 -->\r\n              <div style=\"flex:1;\">\r\n                <el-slider \r\n                  v-model=\"large\" \r\n                  @input=\"dragging\"\r\n                  :show-tooltip=\"false\"\r\n                ></el-slider>\r\n              </div>\r\n            </div> \r\n          </div>\r\n        </div>\r\n      </div>\r\n    </CcDialog>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { VueCropper } from \"vue-cropper\"\r\nimport { fileUpload, lookPhoto } from '@/api/upload'\r\n\r\nexport default {\r\n  props: {\r\n    cropperShow: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    cropperImg: {\r\n      type: String,\r\n      default: ''\r\n    },\r\n    imgWidth: {\r\n      type: [String, Number],\r\n      default: 260\r\n    },\r\n    imgHeight: {\r\n      type: [String, Number],\r\n      default: 130\r\n    },\r\n    fileName: String,\r\n    title: String\r\n  },\r\n  components: { \r\n    VueCropper\r\n  },\r\n  data() {\r\n    return {\r\n      previews: {}, //预览数据\r\n      large: [0, 0],\r\n      //剪切图片上传\r\n      crap: false,\r\n      isReview: true,\r\n      autoUpload: false, //是否自动上传\r\n      scale: 0,\r\n    }\r\n  }, \r\n  watch: {\r\n    scale(newVal, oldVal) {\r\n      if (newVal >= oldVal) {\r\n        this.changeScale(1);\r\n      } else {\r\n        this.changeScale(-1);\r\n      }\r\n    }\r\n  },\r\n  computed: {\r\n    option () {\r\n      return {\r\n        //裁剪图片的配置信息\r\n        img: \"\",\r\n        outputSize: 1, //剪切后的图片质量（0.1-1）\r\n        full: false, //输出原图比例截图 props名full \r\n        outputType: \"png\", //png\r\n        canMove: true,\r\n        original: false,\r\n        canMoveBox: true,\r\n        autoCrop: true,\r\n        autoCropWidth: this.imgWidth,\r\n        autoCropHeight: this.imgHeight, \r\n        fixedBox: true,\r\n        canScale: true //图片允许滚轮缩放\r\n      }\r\n    }\r\n  }, \r\n  methods: { \r\n    dialogClosed () {\r\n      this.$emit('cropperClose')\r\n    },\r\n    //滑块拖动事件\r\n    dragging(e, index) {\r\n      this.scale = e;\r\n    },\r\n    //放大/缩小\r\n    changeScale(num) {\r\n      this.$refs.cropper.changeScale(num)\r\n    },\r\n    // 实时预览函数\r\n    realTime(data) {\r\n      this.previews = data\r\n    },\r\n    //图片裁剪\r\n    handleImageCopper(type) {\r\n      if (type === 'confirm') {\r\n        this.$refs.cropper.getCropBlob(data => {\r\n          let form = new FormData()\r\n          form.append(\"file\", data, this.fileName)\r\n          // 上传接口\r\n          fileUpload(form).then(res => {\r\n            const uploadId = res.data\r\n            if (res.code === 0) {\r\n              // 查看图片回显\r\n              lookPhoto(uploadId, 15000).then((res) => {\r\n                if (res.code === 0) {\r\n                  const url = res.data\r\n                  this.$emit(\"corpperDone\", uploadId, url)\r\n                  this.dialogClosed()\r\n                }\r\n              })\r\n            }\r\n          }).catch(() => {\r\n            this.$emit(\"corpperDone\")\r\n            this.dialogClosed()\r\n          })\r\n        })\r\n      } else {\r\n        this.$emit(\"corpperDone\")\r\n        this.dialogClosed()\r\n      }\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.tools {\r\n    display: flex;\r\n    justify-content: flex-start;\r\n    align-items: center;\r\n    margin-top: 24px;\r\n    color: #192646;\r\n    > span {\r\n      margin-right: 10px;\r\n    }\r\n  }\r\n  .cropper-content {\r\n    display: flex;\r\n    justify-content: center;\r\n    .left {\r\n      margin-right: 60px; \r\n      display: flex;\r\n      flex-direction: column;\r\n      justify-content: space-between;\r\n    }\r\n    .cropper {\r\n      width: 455px;\r\n      height: 300px;\r\n    }\r\n    .show-preview {\r\n      flex: 1;\r\n      -webkit-flex: 1;\r\n      display: flex;\r\n      display: -webkit-flex;\r\n      justify-content: center;\r\n      -webkit-justify-content: center;\r\n      .preview {\r\n        overflow: hidden;\r\n        border-radius: 2px;\r\n        border: 1px solid #eaeef6;\r\n        margin-left: 40px;\r\n        border-radius: 50%;\r\n      }\r\n    }\r\n    .left, .right {\r\n      .title {\r\n        margin-bottom: 10px; \r\n      }\r\n    }\r\n  }\r\n  .cropper-content .show-preview .preview {\r\n    margin-left: 0;\r\n    -moz-user-select: none;\r\n    -webkit-user-select: none;\r\n    -ms-user-select: none;\r\n    -khtml-user-select: none;\r\n    user-select: none;\r\n  }\r\n  .uploadItem {\r\n    margin-right: 24px;\r\n    .uploadContent {\r\n      width: 205px;\r\n      height: 105px;\r\n      border-radius: 6px;\r\n      border: 1px dashed rgba(208, 209, 216, 1);\r\n      display: flex;\r\n      align-items: center;\r\n      justify-content: center;\r\n      > img {\r\n        width: 100%;\r\n        height: 100%;\r\n      }\r\n      .icon {\r\n        font-size: 28px;\r\n      }\r\n    }\r\n  }\r\n</style>\r\n\r\n<style lang=\"scss\"> \r\n.cropperDialog {\r\n  width: 960px;  \r\n}\r\n.cropper-face, .cropper-view-box {\r\n  border-radius: 50%;\r\n}\r\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cropper.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cropper.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./cropper.vue?vue&type=template&id=73f54801&scoped=true&\"\nimport script from \"./cropper.vue?vue&type=script&lang=js&\"\nexport * from \"./cropper.vue?vue&type=script&lang=js&\"\nimport style0 from \"./cropper.vue?vue&type=style&index=0&id=73f54801&lang=scss&scoped=true&\"\nimport style1 from \"./cropper.vue?vue&type=style&index=1&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"73f54801\",\n  null\n  \n)\n\nexport default component.exports","<template>\r\n  <div>\r\n    <el-upload\r\n      class=\"avatar-uploader\"\r\n      :show-file-list=\"false\"\r\n      accept=\"image/png,image/jpg,image/jpeg\"\r\n      :http-request=\"httpUploadRequest\"\r\n      action=\"\"\r\n    >\r\n      <CcButton v-if=\"!isSlot\">{{ $t('public.uploadImg.button') }}</CcButton>\r\n      <slot></slot>\r\n    </el-upload>\r\n    <MyCorpper :cropperShow=\"cropperShow\" \r\n      :cropperImg=\"cropperImg\" \r\n      :fileName=\"fileName\"\r\n      :imgWidth=\"imgWidth\" \r\n      :imgHeight=\"imgHeight\"\r\n      :title=\"title\"\r\n      @corpperDone=\"corpperDone\"\r\n      @cropperClose=\"cropperClose\"\r\n    />\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport MyCorpper from './cropper'\r\nexport default {\r\n  components: {\r\n    MyCorpper\r\n  },\r\n  props: {\r\n    isSlot:{\r\n      type: Boolean,\r\n      defalut: false\r\n    },\r\n    maxSize: {\r\n      type: Number,\r\n      default: 1\r\n    },\r\n    imgWidth: {\r\n      type: [Number, String],\r\n      defalut: 200\r\n    },\r\n    imgHeight: {\r\n      type: [Number, String],\r\n      defalut: 200\r\n    },\r\n    title: String\r\n  },\r\n  data() {\r\n    return {\r\n      cropperImg: '',\r\n      fileName: '',\r\n      cropperShow: false\r\n    }\r\n  },\r\n  methods: {\r\n    httpUploadRequest(option) {\r\n      this.cropperShow = false\r\n      let file = option.file\r\n      let reader = new FileReader()\r\n      let isValid = this.beforeAvatarUpload(file)\r\n      if (!isValid) {\r\n        return\r\n      }\r\n      if (file) {\r\n        reader.readAsDataURL(file)\r\n      }\r\n      let _this = this\r\n      // base64\r\n      reader.onload = () => {\r\n        let src = reader.result\r\n        _this.cropperShow = true\r\n        _this.cropperImg = src\r\n      }\r\n    },\r\n    beforeAvatarUpload(file) {\r\n      this.fileName = file.name\r\n      const isJPG = file.type === 'image/jpeg'\r\n      const isPNG = file.type === 'image/png'\r\n      const isMaxSize = file.size / 1024 / 1024 < this.maxSize;\r\n      if (!isJPG && !isPNG) {\r\n        this.$message({type: 'error', message: `请上传图片格式 png、jpg、jpeg`})\r\n        return false\r\n      }\r\n      if (!isMaxSize) {\r\n        this.$message({type: 'error', message: `图片大小不能超过${this.maxSize}M`})\r\n        return false\r\n      }\r\n      return true\r\n    },\r\n    corpperDone(uploadId, url) {\r\n      debugger\r\n      if (uploadId) {\r\n        this.$emit('corpperImage', uploadId, url)\r\n      } \r\n    },\r\n    cropperClose() {\r\n      this.cropperShow = false\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.avatar-uploader {\r\n  text-align: center;\r\n}\r\n</style>","import mod from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../../../node_modules/thread-loader/dist/cjs.js!../../../../../../node_modules/babel-loader/lib/index.js!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=01c68bce&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=01c68bce&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"01c68bce\",\n  null\n  \n)\n\nexport default component.exports","<!--\r\n * @Description: \r\n * @Author: Devin\r\n * @Date: 2021-12-15 15:13:28\r\n * @LastEditTime: 2021-12-29 16:57:46\r\n * @LastEditors: Devin\r\n * @Reference: \r\n-->\r\n<template>\r\n  <CcResize :leftClass=\"['left']\" :rightClass=\"['right']\">\r\n    <template #left>\r\n      <CcUploadCopperImage\r\n        :isSlot=\"true\"\r\n        title=\"裁剪\"\r\n        :imgWidth=\"168\"\r\n        :imgHeight=\"168\"\r\n        @corpperImage=\"corpperImage\"\r\n      >\r\n        <div class=\"upload-img\">\r\n          点击上传\r\n          <img :src=\"url\" alt=\"\" />\r\n          <div class=\"img-bg\"></div>\r\n        </div>\r\n      </CcUploadCopperImage>\r\n    </template>\r\n    <template #right>\r\n      <CcTable\r\n        url=\"/mds/table/list\"\r\n        :columns=\"columns4\"\r\n        :dataHandler=\"\r\n          (item) => {\r\n            item.isEditor = Random.boolean();\r\n            return item;\r\n          }\r\n        \"\r\n        :setPageIndex=\"2\"\r\n        ref=\"ecc-table\"\r\n      ></CcTable>\r\n    </template>\r\n  </CcResize>\r\n</template>\r\n\r\n<script>\r\nimport CcUploadCopperImage from '@/components/cc-element/packages/cc-upload-copper-image/src/index.vue';\r\nimport Mock from 'mockjs';\r\nconst Random = Mock.Random;\r\nexport default {\r\n  omponents: { CcUploadCopperImage },\r\n  computed:{\r\n    Random() {\r\n      return Random;\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      columns4: [\r\n        {\r\n          prop: 'name',\r\n          label: '姓名'\r\n        },\r\n        {\r\n          prop: 'date',\r\n          label: '生日'\r\n        },\r\n        {\r\n          prop: 'email',\r\n          label: '邮箱'\r\n        },\r\n        {\r\n          prop: 'status',\r\n          label: '性别'\r\n        },\r\n        {\r\n          prop: 'address',\r\n          label: '地址'\r\n        },\r\n        {\r\n          prop: 'isEditor',\r\n          label: '是否编辑状态'\r\n        }\r\n      ],\r\n      url: 'https://gimg2.baidu.com/image_search/src=http%3A%2F%2Fimg.taopic.com%2Fuploads%2Fallimg%2F110429%2F25-11042ZT11562.jpg&refer=http%3A%2F%2Fimg.taopic.com&app=2002&size=f9999,10000&q=a80&n=0&g=0n&fmt=jpeg?sec=1636880490&t=7e41117d1e6e951bb97534c1ed397100'\r\n    };\r\n  },\r\n  methods: {\r\n    corpperImage(uploadId, url) {\r\n      this.url = url;\r\n    }\r\n  }\r\n  \r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep .left {\r\n  overflow: auto;\r\n}\r\n::v-deep .right{\r\n  padding: 10px;\r\n}\r\n.upload-img {\r\n  width: 168px;\r\n  height: 168px;\r\n  position: relative;\r\n  margin: 100px 0;\r\n  line-height: 168px;\r\n  overflow: hidden;\r\n  .img-bg,\r\n  img {\r\n    box-shadow: 0 0 0 50px rgb(0 0 0 / 40%);\r\n    border-radius: 50%;\r\n    position: absolute;\r\n    width: 100%;\r\n    height: 100%;\r\n    left: 0;\r\n    top: 0;\r\n    object-fit: contain;\r\n  }\r\n}\r\n</style>","import mod from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../../node_modules/thread-loader/dist/cjs.js!../../../../node_modules/babel-loader/lib/index.js!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./index.vue?vue&type=template&id=4f7d0e1f&scoped=true&\"\nimport script from \"./index.vue?vue&type=script&lang=js&\"\nexport * from \"./index.vue?vue&type=script&lang=js&\"\nimport style0 from \"./index.vue?vue&type=style&index=0&id=4f7d0e1f&lang=scss&scoped=true&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  \"4f7d0e1f\",\n  null\n  \n)\n\nexport default component.exports","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cropper.vue?vue&type=style&index=0&id=73f54801&lang=scss&scoped=true&\"","export * from \"-!../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=4f7d0e1f&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./index.vue?vue&type=style&index=0&id=01c68bce&lang=scss&scoped=true&\"","export * from \"-!../../../../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./cropper.vue?vue&type=style&index=1&lang=scss&\"","// extracted by mini-css-extract-plugin\nmodule.exports = {\"AC1\":\"#00215f\",\"AC2\":\"#002f88\",\"AC3\":\"#667a9f\",\"MC1\":\"#ee8a1d\",\"MC2\":\"#fdc331\",\"MC3\":\"#75c140\",\"MC4\":\"#55c4f2\",\"MC5\":\"#f35353\",\"MC6\":\"#d1def9\",\"MC7\":\"#b0deed\",\"MC8\":\"#cad6df\",\"MC9\":\"#eaeef6\",\"TC1\":\"#00215f\",\"TC2\":\"#9aa6c0\",\"TC3\":\"#0091ff\",\"boxShadow\":\"boxShadow\"};"],"sourceRoot":""}